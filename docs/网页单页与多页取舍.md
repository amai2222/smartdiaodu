# 网页：单页 vs 多页 取舍说明

## 当前方案：单页 + 标签分区

控制台已做成 **一个 index.html**，用 **三个标签** 分区，而不是多个独立网页：

| 标签 | 内容 |
|------|------|
| **下次计划（模式1）** | 多批次计划列表（每批：出发时间、出发地、目的地），添加/保存/删除各批，探子/调度遍历 `GET /planned_trip` 的 plans 按每批找单。 |
| **行程与地图** | 当前状态（司机位置、接/送地址）+「更新地图」+ 地图（起终点与路径规划）。模式2、模式3 共用这一块。 |
| **设置** | API 地址、当前模式切换、模式参数（耽误时间、高收益门槛等）。 |

这样做的原因：

- **一个文件、一次部署**：只维护一个 HTML，部署到 Cloudflare Pages 或任意静态托管即可。
- **功能不挤在一屏**：按模式/设置分标签，需要时再点进去，不会一打开就满屏表单项。
- **状态共用**：API 地址、当前模式、当前状态在同一页内，不用在多个页面之间传参。
- **足够覆盖当前需求**：模式1 只做规划设定；模式2/3 共用「行程 + 地图」；设置集中在一处。

---

## 单页能不能撑住更复杂的功能？

**可以。** 只要继续用「标签/折叠区块」把不同功能拆成块，单页能承载：

- 更多模式专属表单项（例如模式1 的「候选订单列表」、模式2 的「新单评估」）
- 推送记录、接单反馈历史
- 多司机时加一个「司机选择」或「车队」标签

复杂度再高时，可以再拆出 **公共 JS**（如 `api.js` 里封装 `getApiBase()`、请求封装），单页只负责结构和调用，逻辑不会乱。

---

## 什么时候考虑拆成多页？

适合拆成 **多个网页** 的情况包括：

- **需要直接分享某一模式的链接**：例如只想把「行程与地图」发给别人，希望 URL 就是 `https://ui.xxx.com/route`，而不是 `index.html#route`（虽然 hash 也能用，但多页更直观）。
- **团队分工**：不同人维护不同模式页面，减少冲突。
- **按权限/角色区分**：例如「司机端」一个入口、「调度端」另一个入口，用不同 HTML 更清晰。

若将来拆多页，建议结构可以是：

- `index.html`：入口，只做模式选择 + 跳转链接（或简单仪表盘）。
- `plan.html`：模式1 规划找单。
- `route.html`：行程与地图（模式2/3 共用）。
- `settings.html`：API、模式、参数。
- `response.html`：推送后接单/停推反馈（已有）。

API 地址等可放在 `localStorage`，各页读取同一个 key，保持一致。

---

## 总结

- **当前**：用 **单页 + 三个标签**（模式1 规划、行程与地图、设置）即可完成「选模式 → 看地图 → 调参数」等复杂功能，无需多页。
- **以后**：若需要固定 URL、分工维护或按角色分入口，再按上面方式拆成多页不迟；逻辑（API 调用、地图绘制）可以抽成共用的 JS 在单页和多页里复用。
