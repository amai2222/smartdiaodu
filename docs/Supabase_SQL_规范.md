# Supabase / 本仓库 SQL 规范

## 检查与诊断类 SQL：一条命令出整张结果

**Supabase SQL Editor 不支持分段显示多个结果集**（一次执行只显示一个结果表）。因此：

- **检查、诊断类 SQL** 必须用 **一条语句** 输出所有检查项，得到 **同一张表、多行**，便于一次执行、一次查看。
- 做法示例：用 `UNION ALL` 把多块检查合并为多行，每行两列（如 `检查项`、`结果`），或同一列结构下多段结果拼成多行；用 `ORDER BY` 控制顺序。
- 参考：`supabase/migrations/010_check_database.sql`（数据库检查命令）。

## 迁移与修复类 SQL

- 建表、改表、RLS、INSERT/UPDATE/DELETE 等按需分段写；若希望“执行一次跑完”，可用多条语句顺序写在同一文件，Supabase 会按顺序执行（仍只显示最后一个结果集，前面的是副作用）。
